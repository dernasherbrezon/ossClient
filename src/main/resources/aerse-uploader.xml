<?xml  version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:p="http://www.springframework.org/schema/p" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"
	default-lazy-init="true">

	<context:annotation-config />

	<bean id="uploaderFile" class="com.aerse.uploader.UploaderToFile"
		init-method="start">
		<property name="basePath" value="${uploader.basePath}" />
	</bean>

	<bean id="uploaderToSelectel" class="com.aerse.uploader.UploaderToSelectel">
		<property name="user" value="${selectel.user}" />
		<property name="key" value="${selectel.key}" />
		<property name="containerName" value="${selectel.containerName}" />
		<property name="retryTimeoutMillis" value="${selectel.retryTimeoutMillis:1000}"/>
		<property name="retries" value="${selectel.retries:3}"/>
		<property name="timeout" value="${selectel.timeout:10000}"/>
	</bean>

	<bean id="uploaderToS3" class="com.aerse.uploader.UploaderToS3" init-method="start">
		<property name="bucket" value="${uploader.s3.bucket}" />
		<property name="retries" value="${uploader.s3.retries}" />
		<property name="timeout" value="${uploader.s3.timeout:10000}"/>
		<property name="retryTimeoutMillis" value="${uploader.s3.retryTimeoutMillis:1000}"/>
		<property name="region" value="${uploader.s3.region}" />
		<property name="accessKey" value="${uploader.s3.accessKey}" />
		<property name="secretKey" value="${uploader.s3.secretKey}" />
	</bean>
	
</beans>